function getElementFromTemplate(e){var o=document.querySelector("#hotel-template");if("content"in o)t=o.content.children[0].cloneNode(!0);else var t=o.children[0].cloneNode(!0);var n=t.querySelector(".hotel__rating");t.querySelector(".hotel__name").textContent=e.name,t.querySelector(".hotel__price-value").textContent=e.price,e.rating?n.textContent=e.rating:n.style.display="none";var r=new Image,s=setTimeout(function(){r.src="",t.classList.add("hotel--nophoto")},1e4);return r.onload=function(){clearTimeout(s),t.style.backgroundImage="url('"+r.src+"')"},r.onerror=function(){t.classList.add("hotel--nophoto")},r.src=e.preview?e.preview:"",t}function setMinAndMaxRooms(e,o){e.min=Math.ceil(o/MAX_GUESTS_PER_ROOM),e.max=o}var docCookies={getItem:function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(e,o,t,n,r,s){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var c="";if(t)switch(t.constructor){case Number:c=t===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+t;break;case String:c="; expires="+t;break;case Date:c="; expires="+t.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(o)+c+(r?"; domain="+r:"")+(n?"; path="+n:"")+(s?"; secure":""),!0},removeItem:function(e,o,t){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+t:"")+(o?"; path="+o:""),!0)},hasItem:function(e){return!(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),o=e.length,t=0;t<o;t++)e[t]=decodeURIComponent(e[t]);return e}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=docCookies);var container=document.querySelector(".hotels-list");hotels.forEach(function(e){var o=getElementFromTemplate(e);container.appendChild(o)});var formElement=document.forms.searchform,searchform=document.querySelector(".searchform"),guests=formElement["searchform-guests-number"],rooms=formElement["searchform-guests-rooms"];guests.min=1,guests.max=6;var MAX_GUESTS_PER_ROOM=3;guests.value=docCookies.getItem("guests"),setMinAndMaxRooms(rooms,guests.value),rooms.value=docCookies.getItem("rooms"),guests.onchange=function(){setMinAndMaxRooms(rooms,guests.value)},formElement.onsubmit=function(e){e.preventDefault();var o=+Date.now()+2592e5,t=new Date(o).toUTCString();document.cookie="guests="+guests.value+";expires="+t,document.cookie="rooms="+rooms.value+";expires="+t,formElement.submit()},searchform.addEventListener("mouseover",function(e){e.target.classList.contains("searchform__guests")&&e.target.focus()});